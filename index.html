<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ˆë“±í•™ìƒ ì‹œì¥ë†€ì´ ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì„¤ì • */
        :root {
            --primary-color: #FFB6C1;
            --secondary-color: #E0F7FA;
            --text-color: #333;
        }

        body {
            font-family: 'Jua', 'Nanum Gothic', sans-serif; /* ê·€ì—¬ìš´ í°íŠ¸ ì‚¬ìš© ê°€ì • */
            background-color: #f0f8ff;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            background-color: white;
            width: 100%;
            max-width: 800px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* ìƒë‹¨ í—¤ë” */
        header {
            background-color: #ff9a9e;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
        }

        /* ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ */
        main {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* ì„¹ì…˜ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .section-box {
            background-color: #fff;
            border: 2px solid #eee;
            border-radius: 15px;
            padding: 15px;
        }

        h2 {
            margin-top: 0;
            color: #555;
            font-size: 1.2rem;
            border-bottom: 2px solid #ffd1dc;
            padding-bottom: 10px;
        }

        /* 1. ë¬¼ê±´ ì§„ì—´ëŒ€ */
        .shelf {
            display: flex;
            justify-content: space-around;
            gap: 10px;
            flex-wrap: wrap;
        }

        .item-btn {
            background-color: white;
            border: 2px solid #ddd;
            border-radius: 15px;
            padding: 15px;
            cursor: pointer;
            transition: transform 0.2s, border-color 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 120px;
        }

        .item-btn:active {
            transform: scale(0.95);
        }

        .item-btn:hover {
            border-color: #ff9a9e;
            background-color: #fff0f5;
        }

        .item-img {
            font-size: 3rem; /* ì´ëª¨ì§€ë¡œ ì‚¬ì§„ ëŒ€ì²´ (íŒŒì¼ ë¡œë”© ë¬¸ì œ ë°©ì§€) */
            margin-bottom: 10px;
        }

        .item-name { font-weight: bold; font-size: 1.1rem; }
        .item-price { color: #ff6b6b; font-weight: bold; }

        /* 2. ì¥ë°”êµ¬ë‹ˆ ë° ê³„ì‚° í˜„í™© */
        .status-board {
            display: flex;
            justify-content: space-between;
            background-color: #e3f2fd;
            padding: 20px;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .price-display span {
            color: #1976D2;
            font-size: 1.5rem;
        }

        .payment-display span {
            color: #388E3C;
            font-size: 1.5rem;
        }

        /* 3. ë‚´ ì§€ê°‘ (ëˆ ë‚´ê¸°) */
        .wallet {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            align-items: center;
            background-color: #fff8e1;
        }

        .money-btn {
            border: none;
            cursor: pointer;
            transition: transform 0.1s;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
            font-weight: bold;
            color: #555;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.9rem;
        }

        .money-btn:active { transform: translateY(2px); box-shadow: none; }

        /* ì§€í ìŠ¤íƒ€ì¼ */
        .bill {
            width: 120px;
            height: 60px;
            border-radius: 5px;
            font-size: 1rem;
        }
        .bill-1000 { background-color: #aebbf5; color: #2c3e50; border: 1px solid #8fa1d8; }

        /* ë™ì „ ìŠ¤íƒ€ì¼ */
        .coin {
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .coin-100 {
            width: 60px;
            height: 60px;
            background: radial-gradient(circle at 30% 30%, #f0f0f0, #bdbdbd);
            border: 2px solid #9e9e9e;
        }

        /* ìš”ì²­ì‚¬í•­: 500ì› ë™ì „ ì•„ì£¼ í¬ê²Œ */
        .coin-500 {
            width: 110px; /* ë‹¤ë¥¸ ë™ì „ì˜ ì•½ 2ë°° */
            height: 110px;
            background: radial-gradient(circle at 30% 30%, #fffbe6, #e6c15c); /* ê¸ˆìƒ‰ ëŠë‚Œ */
            border: 4px solid #d4a017;
            font-size: 1.5rem;
            z-index: 10;
        }

        .coin-10 {
            width: 45px;
            height: 45px;
            background: radial-gradient(circle at 30% 30%, #ffdcb8, #dba372);
            border: 1px solid #b57b48;
            font-size: 0.8rem;
        }

        /* í•˜ë‹¨ ì»¨íŠ¸ë¡¤ ë²„íŠ¼ */
        .controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
        }

        .btn-reset { background-color: #ffccbc; color: #d84315; }
        .btn-reset:hover { background-color: #ffab91; }

        .btn-pay { background-color: #c8e6c9; color: #2e7d32; }
        .btn-pay:hover { background-color: #a5d6a7; }

        /* ë©”ì‹œì§€ ë°•ìŠ¤ */
        #message-area {
            text-align: center;
            margin-top: 10px;
            height: 30px;
            font-weight: bold;
            color: #d32f2f;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 600px) {
            .shelf { justify-content: space-between; }
            .item-btn { width: 45%; margin-bottom: 10px; }
            .wallet { gap: 10px; }
            .coin-500 { width: 90px; height: 90px; }
        }
    </style>
</head>
<body>

<div class="container">
    <header>ğŸ« ì¦ê±°ìš´ í•™êµ ë§¤ì  ğŸ«</header>
    
    <main>
        <!-- 1. ë¬¼ê±´ ê³ ë¥´ê¸° ì„¹ì…˜ -->
        <div class="section-box">
            <h2>ğŸ›’ ë¬¼ê±´ì„ ê³¨ë¼ ë‹´ì•„ë³´ì„¸ìš”</h2>
            <div class="shelf">
                <!-- ì‚¬ê³¼ ë²„íŠ¼ -->
                <button class="item-btn" onclick="addToCart(1000, 'ì‚¬ê³¼')">
                    <span class="item-img">ğŸ</span>
                    <span class="item-name">ì‚¬ê³¼</span>
                    <span class="item-price">1,000ì›</span>
                </button>
                <!-- ìš°ìœ  ë²„íŠ¼ -->
                <button class="item-btn" onclick="addToCart(700, 'ìš°ìœ ')">
                    <span class="item-img">ğŸ¥›</span>
                    <span class="item-name">ìš°ìœ </span>
                    <span class="item-price">700ì›</span>
                </button>
                <!-- ì¶”ê°€ ì•„ì´í…œ -->
                <button class="item-btn" onclick="addToCart(500, 'ì•„ì´ìŠ¤í¬ë¦¼')">
                    <span class="item-img">ğŸ¦</span>
                    <span class="item-name">ì•„ì´ìŠ¤í¬ë¦¼</span>
                    <span class="item-price">500ì›</span>
                </button>
                <button class="item-btn" onclick="addToCart(300, 'ì‚¬íƒ•')">
                    <span class="item-img">ğŸ¬</span>
                    <span class="item-name">ì‚¬íƒ•</span>
                    <span class="item-price">300ì›</span>
                </button>
            </div>
        </div>

        <!-- 2. ê¸ˆì•¡ í™•ì¸ ì„¹ì…˜ -->
        <div class="status-board">
            <div class="price-display">
                ë‚´ì•¼ í•  ëˆ: <span id="total-price">0</span>ì›
            </div>
            <div class="payment-display">
                ë‚´ê°€ ë‚¸ ëˆ: <span id="current-pay">0</span>ì›
            </div>
        </div>

        <!-- 3. ëˆ ë‚´ê¸° ì„¹ì…˜ -->
        <div class="section-box wallet">
            <h2>ğŸ‘› ì§€ê°‘ì—ì„œ ëˆì„ êº¼ë‚´ì„¸ìš”</h2>
            <div style="width: 100%; display: flex; justify-content: center; align-items: center; gap: 15px; flex-wrap: wrap;">
                <button class="money-btn bill bill-1000" onclick="addMoney(1000)">1000ì›</button>
                
                <!-- ìš”ì²­í•˜ì‹  ì•„ì£¼ í° 500ì› ë™ì „ -->
                <button class="money-btn coin coin-500" onclick="addMoney(500)">
                    <span>500</span>
                    <span style="font-size:0.8rem">ì›</span>
                </button>
                
                <button class="money-btn coin coin-100" onclick="addMoney(100)">100</button>
                <button class="money-btn coin coin-10" onclick="addMoney(10)">10</button>
            </div>
        </div>

        <div id="message-area"></div>

        <div class="controls">
            <button class="btn btn-reset" onclick="resetAll()">ë‹¤ì‹œ í•˜ê¸°</button>
            <button class="btn btn-pay" onclick="checkPayment()">ê³„ì‚°í•˜ê¸° âœ…</button>
        </div>
    </main>
</div>

<script>
    let totalPrice = 0;
    let currentPay = 0;

    // ìˆ«ìë¥¼ 3ìë¦¬ë§ˆë‹¤ ì½¤ë§ˆ ì°ì–´ì„œ ë³´ì—¬ì£¼ëŠ” í•¨ìˆ˜
    function formatNumber(num) {
        return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }

    // ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°
    function addToCart(price, name) {
        totalPrice += price;
        updateDisplay();
        showMessage(`${name}ë¥¼ ë‹´ì•˜ìŠµë‹ˆë‹¤! (+${price}ì›)`);
    }

    // ëˆ ë‚´ê¸°
    function addMoney(amount) {
        currentPay += amount;
        updateDisplay();
        showMessage(`${amount}ì›ì„ ëƒˆìŠµë‹ˆë‹¤.`);
    }

    // í™”ë©´ ì—…ë°ì´íŠ¸
    function updateDisplay() {
        document.getElementById('total-price').textContent = formatNumber(totalPrice);
        document.getElementById('current-pay').textContent = formatNumber(currentPay);
        
        // ëˆì„ ë‚¼ ë•Œë§ˆë‹¤ ìƒ‰ìƒ í”¼ë“œë°±
        const payDisplay = document.querySelector('.payment-display span');
        if (currentPay >= totalPrice && totalPrice > 0) {
            payDisplay.style.color = '#2e7d32'; // ì¶©ë¶„í•˜ë©´ ì´ˆë¡ìƒ‰
        } else {
            payDisplay.style.color = '#388E3C'; // ê¸°ë³¸ìƒ‰
        }
    }

    // ë©”ì‹œì§€ í‘œì‹œ
    function showMessage(text) {
        const msgArea = document.getElementById('message-area');
        msgArea.textContent = text;
        msgArea.style.color = '#555';
    }

    // TTS ë§í•˜ê¸° í•¨ìˆ˜
    function speak(text) {
        // ë¸Œë¼ìš°ì €ê°€ TTSë¥¼ ì§€ì›í•˜ëŠ”ì§€ í™•ì¸
        if ('speechSynthesis' in window) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ko-KR'; // í•œêµ­ì–´ ì„¤ì •
            utterance.rate = 1.0; // ì†ë„
            utterance.pitch = 1.0; // í†¤
            window.speechSynthesis.speak(utterance);
        } else {
            console.log("ì´ ë¸Œë¼ìš°ì €ëŠ” ìŒì„± ì•ˆë‚´ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
        }
    }

    // ê³„ì‚°í•˜ê¸° (í•µì‹¬ ë¡œì§)
    function checkPayment() {
        const msgArea = document.getElementById('message-area');

        if (totalPrice === 0) {
            showMessage("ë¬¼ê±´ì„ ë¨¼ì € ê³¨ë¼ì£¼ì„¸ìš”!");
            speak("ë¬¼ê±´ì„ ë¨¼ì € ê³¨ë¼ì£¼ì„¸ìš”.");
            return;
        }

        if (currentPay < totalPrice) {
            // ëˆì´ ë¶€ì¡±í•  ë•Œ
            msgArea.style.color = 'red';
            msgArea.textContent = `ëˆì´ ${formatNumber(totalPrice - currentPay)}ì› ë” í•„ìš”í•´ìš”!`;
            
            // ìš”ì²­í•˜ì‹  TTS ìŒì„± ì•ˆë‚´
            speak("ëˆì´ ë” í•„ìš”í•´ìš”.");
            
            // ì‹œê°ì  íš¨ê³¼ (í”ë“¤ê¸°)
            const wallet = document.querySelector('.payment-display');
            wallet.style.transform = 'translateX(5px)';
            setTimeout(() => wallet.style.transform = 'translateX(0)', 100);
            setTimeout(() => wallet.style.transform = 'translateX(-5px)', 200);
            setTimeout(() => wallet.style.transform = 'translateX(0)', 300);

        } else {
            // ê³„ì‚° ì„±ê³µ
            const change = currentPay - totalPrice;
            msgArea.style.color = 'blue';
            
            let successMsg = "ê³„ì‚°ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!";
            if (change > 0) {
                successMsg += ` ê±°ìŠ¤ë¦„ëˆì€ ${formatNumber(change)}ì› ì…ë‹ˆë‹¤.`;
            }
            
            msgArea.textContent = successMsg;
            speak(successMsg);
            
            // ì¶•í•˜ íš¨ê³¼ (ê°„ë‹¨í•œ ë°°ê²½ ê¹œë¹¡ì„)
            document.querySelector('.container').style.backgroundColor = '#e8f5e9';
            setTimeout(() => {
                document.querySelector('.container').style.backgroundColor = 'white';
            }, 500);
        }
    }

    // ì´ˆê¸°í™”
    function resetAll() {
        totalPrice = 0;
        currentPay = 0;
        updateDisplay();
        showMessage("ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤.");
        document.getElementById('message-area').style.color = '#555';
    }
</script>

</body>
</html>
